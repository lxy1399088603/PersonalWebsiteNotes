## 什么是RabbitMQ
----
### 1、消息中间件是什么
&emsp;&emsp;消息队列也叫做消息中间件，基于数据通信的方式，在生产者与消费者之间进行信息的传递与交流，提供消息的传递和和信息排队模型；消息中间件一般有两种传递模式，一种是点对点模式，另一种是发布/订阅模式；点对点模式是基于队列的，消息产生者发送消息到队列，消息消费者从队列中接收消息，队列的存在可以支持消息的异步传输（异步传输就是同时对多个消费者进行消息的传递）；发布订阅模式就是针对一个主题，消息的发布者将消息发布发某个主题上，而消息的订阅者从主题上订阅消息，发布订阅模式在洗脑洗的一对多广播时采用；

### 2、简单的工作流程
&emsp;&emsp;发送者将消息发送到消息服务器上，消息服务器将消息放到若干队列中，在合适的时候将消息转发给接收者；应用程序A与因工程需B通过使用消息中间件的引用变成接口来发送信息进行通信，消息中间件将消息路由给程序B，这样使得消息就可以存在于与应用不同的计算机上，消息中间件负责处理网络通信，如果网络连接不可用，消息和中间件会存储消息，知道连接变得可用，再将消息转发给程序B；在A发送消息的时候B可以处于不运行状态，消息中间件将会保留这份信息，直到B开始消费；

### 3、消息队列的作用
1. 流量消峰：防止在高并发对服务器进行访问时，服务器扛不住发生宕机的情况；加入MQ做消息队列，当访问的次数到达阈值就会进行排队；

2. 应用解耦：使用MQ来对不同的服务进行监督

3. 异步处理：两个服务之间做调用，A不需要等待B返回信息后再做处理而是直接处理其他的工作，由MQ来检测B是否做完，当B做完会发送信息给MQ，MQ接收到信息后后提示A去做接下来的操作；

### 4、 RabbitMQ和Kafka
1. Kafka：性能卓越，单机写入TPS约为几百条/s，吞吐量高（支持高并发并且响应速度快），但是在单机超过64个分区/队列时会发生响应时间长，失败了不支持重试（数据会丢失），一台机器宕机后会出现消息乱序；产生大量数据，比如日志采集功能

2. RabbitMQ：是一个在AMQP（高级消息队列协议）的基础上完成的，性能较好，吞吐量达到万级，健壮稳定；

### 5、RabbitMQ介绍
&emsp;&emsp;RabbitMQ是用来接收、存储和转发消息数据的，工作原理是：生产者将数据传递到MQ中，然后MQ通过内部的交换机和队列进行绑定，一个队列对应着一个消费者；不同的对象之间通过传递信息来激活对方的事件，以完成相应的操作，发送者（生产者）将信息发送给消息服务器，消息服务器将消息存放在若干队列中，在合适的时候再将消息转发给接受者。消息中间件能在不同平台之间通信，能在客户端和服务器之间提供同步和异步的连接，并且在任何时刻都可以将消息进行转发或者存储转发。

### 6、RabbitMQ的六大模式
+ 简单模式
+ 工作模式(轮询分发消息)
+ 发布订阅模式
+ 路由模式
+ 主题模式
+ 发布确认模式

### 7、RabbitMQ的四大组件
+ 生产者(provider)
+ 消费者(consumer)
+ 交换机(exchange)
+ 队列(quequ)
